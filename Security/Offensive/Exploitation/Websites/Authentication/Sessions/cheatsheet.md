# Session Management

## Lifecycle

### 1. Creation
Sessions are typically created when you initially visit a website. In some cases only after you authenticate.

#### Weak Session Values
In some cases there is a good chance the session values may be guessable. For example if a username is simply base64 encoded then a threat actor can reverse the process.

#### Control Session Values
Some tokens (JWT) have all the relevant information to create and verify a token. If signatures aren't verified or created securely it allows threat actors to generate their own tokens.

#### Session Fixation
When an application creates a session prior to being authenticated and does not rotate the values once you authenticate, then it is possible for a threat actor to record the initial session and use it to hijack the authenticated session.

#### Insecure Session Transmission
Modern environments use an authentication server (SSO) which means that at some point the data needs to be transfered from auth server to app server.  Insecure redirects can allow session hijacking.

### 2. Session Tracking
A session value is created and submitted each time you create a request. With each request the server will perform a lookup in order to understand who the session belongs to and what permissions they have.

#### Authorization Bypass
Occurs when there is not sufficient checks made to determine if a user is allowed to perform and action.

Vertical Bypass: Perform an action that is reserved for a more privileged user.
Horizontal Bypass: Allowed action, but on a dataset you should not be allow to access.

#### Insufficient Logging
Applications may not track the logs they need to identify an attack.

### 3. Session Expiry
The http protocol is stateless meaning it has no method to know when the session is terminated. A user can close the tab, browser, or power off the device. Expiry dates are used to handle this.

### 4. Session Termination
Terminate sessions based on a user action or expiry.



